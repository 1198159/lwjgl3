<project name="definitions" basedir="../">
	<!-- ================================================================== -->
	<!-- Global properties for build 																				-->
	<!-- ================================================================== -->
	<property environment="env"/>

	<fail unless="env.JAVA7_HOME" message="Please set an environment variable named JAVA7_HOME that points to a Java 7 SDK."/>

	<property name="src" location="src" relative="true"/>
	<property name="generated" location="generated" relative="false"/>
	<property name="bin" location="bin" relative="false"/>
	<property name="lib" location="libs" relative="true"/>
	<property name="lib.abs" location="${lib}" relative="false"/>
	<property name="res" location="res" relative="true"/>
	<property name="version" value="3.0.0"/>

	<property name="src.core" location="${src}/core" relative="true"/>
	<property name="src.util" location="${src}/util" relative="true"/>
	<property name="src.templates" location="${src}/templates" relative="true"/>
	<property name="src.tests" location="${src}/tests" relative="true"/>

	<property name="src.native" location="${src}/native" relative="true"/>
	<property name="src.native.abs" location="${src.native}" relative="false"/>

	<property name="generated.java" location="${generated}/java" relative="true"/>
	<property name="generated.native" location="${generated}/native" relative="true"/>
	<property name="generated.tests" location="${generated}/tests" relative="true"/>
	<property name="generated.javadoc" location="${generated}/javadoc" relative="true"/>

	<property name="bin.core" location="${bin}/Core" relative="true"/>
	<property name="bin.util" location="${bin}/Utilities" relative="true"/>
	<property name="bin.templates" location="${bin}/Templates" relative="true"/>
	<property name="bin.tests" location="${bin}/Tests" relative="true"/>
	<!-- Different location per architecture. This is intentional. -->
	<property name="bin.native" location="${bin}/lwjgl${os.arch}" relative="true"/>

	<property name="kotlinc" location="${lib}/kotlinc" relative="true"/>

	<condition property="platform.windows">
		<os family="Windows"/>
	</condition>
	<condition property="platform.linux">
		<os name="Linux"/>
	</condition>
	<condition property="platform.freebsd">
		<os name="FreeBSD"/>
	</condition>
	<condition property="platform.solaris">
		<os name="SunOS"/>
	</condition>
	<condition property="platform.macosx">
		<os name="Mac OS X"/>
	</condition>

	<condition property="platform" value="windows">
		<isset property="platform.windows"/>
	</condition>
	<condition property="platform" value="linux">
		<isset property="platform.linux"/>
	</condition>
	<condition property="platform" value="freebsd">
		<isset property="platform.freebsd"/>
	</condition>
	<condition property="platform" value="solaris">
		<isset property="platform.solaris"/>
	</condition>
	<condition property="platform" value="macosx">
		<isset property="platform.macosx"/>
	</condition>

	<macrodef name="update">
		<attribute name="name"/>
		<attribute name="url"/>
		<attribute name="dest"/>

		<sequential>
			<get taskname="@{name}" src="@{url}" dest="@{dest}" verbose="false" usetimestamp="true"/>
		</sequential>
	</macrodef>

	<macrodef name="update-mvn">
		<attribute name="name"/>
		<attribute name="group"/>
		<attribute name="artifact"/>
		<attribute name="version"/>
		<attribute name="dest"/>

		<sequential>
			<update
				name="@{name}"
				url="http://repo1.maven.org/maven2/@{group}/@{artifact}/@{version}/@{artifact}-@{version}.jar" dest="@{dest}/@{artifact}.jar"/>
		</sequential>
	</macrodef>

	<macrodef name="update-dropbox">
		<attribute name="name"/>
		<attribute name="artifact"/>
		<attribute name="hash"/>
		<attribute name="dest"/>

		<sequential>
			<update name="@{name}" url="https://dl.dropboxusercontent.com/sh/@{hash}/@{artifact}" dest="@{dest}/@{artifact}"/>
		</sequential>
	</macrodef>

</project>